function sortComments(t){let e=document.querySelector(".main-comments"),a=Array.from(e.querySelectorAll(".comment:not(.d-none)"));0!==a.length&&(a.sort((e,a)=>{switch(t){case"newest":let n=parseTimeAgo(e.querySelector(".comment-time").textContent),i=parseTimeAgo(a.querySelector(".comment-time").textContent);return i-n;case"oldest":let s=parseTimeAgo(e.querySelector(".comment-time").textContent),o=parseTimeAgo(a.querySelector(".comment-time").textContent);return s-o;case"most-liked":let r=parseInt(e.querySelector(".comment-likes").textContent.match(/\d+/)[0])||0,c=parseInt(a.querySelector(".comment-likes").textContent.match(/\d+/)[0])||0;return c-r;default:return 0}}),a.forEach(t=>{e.removeChild(t)}),a.forEach(t=>{e.appendChild(t)}),anime({targets:".comment:not(.d-none)",translateY:[5,0],opacity:[.8,1],delay:anime.stagger(100),duration:300,easing:"easeOutCubic"}),initializeCommentButtons())}function parseTimeAgo(t){let e=t.match(/(\d+)\s*hour/),a=t.match(/(\d+)\s*day/);return e?parseInt(e[1]):a?24*parseInt(a[1]):0}function animateTimerIn(){document.querySelector(".sticky-container1").classList.remove("timer-hidden");let t=document.querySelector(".timer").offsetHeight,e=anime.timeline({easing:"easeOutExpo"});return e.add({targets:".sticky-container1",translateY:["-100%",0],opacity:[0,1],height:[0,t],duration:800,easing:"easeOutCubic",begin:function(){document.querySelector(".sticky-container1").style.display="block"}}).add({targets:"header, .sections-wrapper",translateY:[0,0],duration:600,easing:"easeOutCubic"},"-=800"),e}function handleSectionSpecificAnimations(t){switch(t){case"unaccepted":anime({targets:"#unaccepted .unaccepted-modal",scale:[.95,1],opacity:[0,1],duration:600,easing:"easeOutCubic"});break;case"after-quiz":anime({targets:"#after-quiz .loading-title, #after-quiz .loading-subtitle",opacity:[0,1],translateY:[15,0],duration:600,easing:"easeOutCubic",delay:anime.stagger(150)}),anime({targets:"#after-quiz .loading-item",opacity:[0,1],translateX:[-15,0],duration:600,easing:"easeOutCubic",delay:anime.stagger(300,{start:300})});break;case"final-page":anime({targets:"#final-page .final-page-title",opacity:[0,1],translateY:[-20,0],duration:600,easing:"easeOutCubic"}),anime({targets:"#final-page p, #final-page .image-container",opacity:[0,1],translateY:[15,0],duration:600,easing:"easeOutCubic",delay:anime.stagger(100,{start:200})}),anime({targets:"#final-page ol li",opacity:[0,1],translateX:[15,0],duration:600,easing:"easeOutCubic",delay:anime.stagger(150,{start:400})}),anime({targets:"#final-page .continue-button",opacity:[0,1],scale:[.95,1],duration:700,easing:"easeOutCubic",delay:800});break;case"start-quiz":anime({targets:"#question-counter",opacity:[0,1],translateX:[-50,0],duration:600,easing:"easeOutQuad",delay:300});let e=new MutationObserver(function(t){t.forEach(function(t){if("childList"===t.type&&t.addedNodes.length>0){let e=document.querySelector("#quiz-models .quiz-question"),a=document.querySelectorAll("#quiz-models .quiz-answer");e&&!e.hasAttribute("data-animated")&&(anime({targets:e,opacity:[0,1],translateY:[20,0],duration:800,easing:"easeOutQuad"}),e.setAttribute("data-animated","true")),a.length>0&&!a[0].hasAttribute("data-animated")&&(anime({targets:a,opacity:[0,1],translateY:[20,0],duration:800,easing:"easeOutQuad",delay:anime.stagger(150)}),a.forEach(t=>{t.setAttribute("data-animated","true")}))}})}),a=document.getElementById("quiz-models");a&&e.observe(a,{childList:!0,subtree:!0})}}function animateCheckmark(t){anime({targets:t,scale:[0,1],opacity:[0,1],rotate:[45,0],duration:800,easing:"easeOutElastic(1, 0.5)"})}function setupSectionTransitions(){let t=window.showSection;window.showSection=function(e){let a=null;document.querySelectorAll(".content-section").forEach(function(t){t.classList.contains("d-none")||(a=t.id)}),document.querySelectorAll(".content-section").forEach(function(t){t.classList.add("d-none"),t.style.opacity="0"});let n=document.getElementById(e);n.classList.remove("d-none"),anime.set("#"+e,{opacity:0,translateY:20,scale:.98}),"function"==typeof t&&t(e)}}document.addEventListener("DOMContentLoaded",function(){document.querySelector(".sticky-container1").classList.add("timer-hidden"),anime.set(".sticky-container1",{translateY:"-100%",opacity:0}),anime.set(["#start-quiz","#unaccepted","#after-quiz","#final-page"],{opacity:0,translateY:20}),anime.set(".comments",{opacity:0,translateY:25,scale:.98}),anime({targets:".comments",opacity:1,translateY:0,scale:1,duration:700,easing:"easeOutCubic",delay:600}),anime.set(".footer-section",{opacity:0,translateY:20,scale:.98}),anime({targets:".footer-section",opacity:1,translateY:0,scale:1,duration:700,easing:"easeOutCubic",delay:800}),setupSectionTransitions(),["after-quiz","final-page","unaccepted"].forEach(function(t){let e=document.getElementById(t);if(e){let a=new MutationObserver(function(a){a.forEach(function(a){if("class"===a.attributeName){let n=e.classList;n.contains("d-none")||"1"===e.style.opacity||(anime({targets:"#"+t,opacity:1,translateY:0,scale:1,duration:600,easing:"easeOutCubic"}),handleSectionSpecificAnimations(t))}})});a.observe(e,{attributes:!0})}});let t=document.getElementById("sort-comments");t&&(t.addEventListener("change",function(){sortComments(this.value)}),sortComments(t.value),initializeCommentButtons())}),document.addEventListener("DOMContentLoaded",function(){let t=document.querySelector(".loading-container");if(t){let e=new MutationObserver(function(t){t.forEach(function(t){"childList"===t.type&&t.addedNodes.forEach(function(t){1===t.nodeType&&t.classList&&t.classList.contains("material-icons")&&animateCheckmark(t)})})});e.observe(t,{childList:!0,subtree:!0})}}),document.addEventListener("DOMContentLoaded",function(){anime.set("header",{opacity:0,translateY:-20}),anime({targets:"header",opacity:1,translateY:0,duration:700,easing:"easeOutCubic",delay:200}),anime.set("#before-quiz",{opacity:0,translateY:15,scale:.98}),anime({targets:"#before-quiz",opacity:1,translateY:0,scale:1,duration:700,easing:"easeOutCubic",delay:400})});let logoRotations=0;document.getElementById("faq-trigger").addEventListener("click",function(){anime({targets:this,scale:[{value:1.2,duration:100,easing:"easeInOutQuad"},{value:1,duration:200,easing:"easeOutElastic(1, .5)"},]})});const startButton=document.getElementById("start-quiz-button");function initializeCommentButtons(){document.querySelectorAll(".comment:not(.d-none) .comment-action").forEach(t=>{let e=t.cloneNode(!0);t.parentNode.replaceChild(e,t)}),document.querySelectorAll(".comment:not(.d-none) .comment-action").forEach(t=>{t.addEventListener("click",function(){if(anime({targets:this,scale:[1,1.2,1],duration:300,easing:"easeInOutQuad"}),"Like"===this.title){let t=this.closest(".comment-actions").querySelector(".comment-likes"),e=parseInt(t.textContent.match(/\d+/)[0]);t.innerHTML=`<i class="material-icons">favorite</i> ${e+1}`;let a=document.getElementById("sort-comments");a&&"most-liked"===a.value&&setTimeout(()=>sortComments("most-liked"),300)}})})}startButton&&(anime({targets:startButton,scale:[{value:1.1,duration:500,easing:"easeInOutCubic"},{value:1,duration:500,easing:"easeOutElastic(1, .5)"},],loop:!0,direction:"alternate",easing:"easeInOutQuad",loopComplete:function(t){t.play()},loopBegin:function(t){t.began||t.begin()}}),startButton.addEventListener("mouseenter",function(){let t=anime.running[0];t&&t.pause(),anime({targets:this,scale:1.2,duration:300,easing:"easeOutElastic(1, .5)"})}),startButton.addEventListener("mouseleave",function(){let t=anime.running[0];t&&t.play(),anime({targets:this,scale:1,duration:200,easing:"easeOutQuad"})}));